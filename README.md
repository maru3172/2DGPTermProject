# 2DGPTermProject
2D Game Programming Term Project 2021180023

Project 2021180023

게임의 간단한 소개

"1942"와 유사한 생존 게임으로, 플레이어가 전투기를 조종하여 몰려오는 적의 공격을 피하는 게임,

주요 기능은 플레이어 조작과 충돌 판정, 가까운 적에게 유도되는 탄이다.

목표 변경 사유: 게임이 너무 단조롭고 차별화된 점이 없다 판단하여 수정

플레이 예시 스크린샷

<p align="left">
<img width="70%" alt="스크린샷 2-24-10-21" src="https://github.com/user-attachments/assets/78cc9f41-f91b-4633-91ff-480085041206">
</p>

-------------------------------------------------------------------------------------

예상 게임 실행 흐름

1. 타이틀 화면

2. 게임 플레이
 
3. 플레이어 사망
 
4. 게임 종료 화면
 
5. 게임 종료

<p align="left">
<img width="70%" alt="스크린샷 2-24-10-21" src="https://github.com/user-attachments/assets/33c19682-d72d-481b-82d8-5fe675d272aa">
</p>

-------------------------------------------------------------------------------------

개발 내용

씬 종류: 타이틀 화면, 게임 화면, 게임 종료 화면

전환 방법

타이틀 → 게임: Enter 키를 눌러 전환

게임 조작: 좌/우 키로 캐릭터 이동

게임 → 게임 종료: 플레이어 사망 시 전환

===================================================================

- 각 Scene 에 등장하는 GameObject 의 종류 및 구성, 상호작용

▣ Enemy 클래스: 적 캐릭터로, 화면에서 이동하며 체력 바를 표시하고, 체력이 0이 되면 제거됨

update(): 적의 이동 처리 (하강, 좌우 진동)

draw(): 적 캐릭터와 체력 게이지 표시

fire(): 적 총알 발사

decrease_life(): 피격 시 체력 감소 및 사망 체크

get_bb(): 충돌 체크용 경계 상자 반환

▣ EnemyGen 클래스: 일정 시간 간격으로 적을 생성하고, 점차 강해지는 적들을 등장시킴

update(): 적 생성 타이머 관리 및 새로운 적 생성

draw(): 빈 함수 (표시할 내용 없음)

▣ Fighter: 플레이어의 전투기로, 좌우 이동과 총알 발사 및 회전 애니메이션을 처리, 비행기의 애니메이션 프레임과 총알 발사 효과로 구성

handle_event(): 키보드 입력 처리 (좌우 이동)

update(): 이동, 총알 발사, 회전 애니메이션 처리

update_roll(): 회전 애니메이션 상태 업데이트

draw(): 전투기와 발사 이펙트 표시

fire(): 총알 생성

decrease_life(): 피격 시 생명력 감소

respawn(): 사망 후 부활 처리

▣ Bullet: 전투기에서 발사된 총알로, 위로 날아가면서 적을 추적, 화면을 벗어나면 사라짐, laser_1.png 총알 이미지

update(): 총알 이동 및 적 추적 처리

draw(): 총알 이미지 표시

get_nearest_enemy(): 가장 가까운 적 탐색

remove(): 총알 제거 처리

▣ MainScenUI 클래스: 게임의 UI에서 플레이어의 목숨을 화면에 표시하는 역할, 큰 글씨로 목숨을 오른쪽 아래에 표시

update(): 빈 함수 (상태 변화 없음)

draw(): 게임 오버 이미지 표시

set_game_over(): 게임 오버 상태 설정

▣ CollisionChecker 클래스: 화면에 표시

update(): 충돌 검사 및 처리(총알-적 충돌, 플레이어-적 충돌, 화면 밖 객체 제거)

draw(): 빈 함수 (표시할 내용 없음)

▣ GameOverScene 클래스: 게임 오버 화면을 관리하고 표시하는 역할, 페이드 효과와 재시작 기능 제공

enter(): 씬 진입 시 초기화 작업 수행

exit(): 씬 종료 시 정리 작업 처리

update(): 화면의 페이드인 효과를 단계적으로 업데이트

draw(): 게임 오버 메시지와 화면 요소들을 표시

handle_event(): 플레이어의 재시작 키 입력을 감지하고 처리

▣ MainScene 클래스: 게임의 메인 플레이 화면을 구성하고 관리하는 역할, 게임의 핵심 요소들을 초기화하고 제어

enter(): 게임 시작 시 필요한 객체들(배경, 플레이어, UI, 컨트롤러)을 생성하고 초기화

exit(): 게임 종료 시 필요한 정리 작업 수행

handle_event(): 플레이어의 키보드 입력을 감지하고 적절한 동작 실행

▣ EnemyBullet 클래스: 적이 발사하는 총알의 동작을 제어하는 역할, 화면 상의 총알 표시와 충돌 처리 담당

update(): 총알이 아래쪽으로 이동하는 동작 처리

draw(): 총알의 이미지를 화면에 표시

get_bb(): 다른 객체와의 충돌 감지를 위한 경계 상자 정보 제공

▣ LivesSprite 클래스: 플레이어의 남은 목숨 정보를 관리하는 역할, 목숨 수의 증감과 게임 오버 상태 처리

update(): 현재는 특별한 상태 변화가 없어 빈 함수로 구현

draw(): 현재 남아있는 목숨의 수를 화면에 시각적으로 표시

decrease(): 플레이어가 피해를 입었을 때 목숨 감소 처리

increase(): 추가 목숨을 획득했을 때 목숨 증가 처리

set_game_over(): 목숨이 모두 소진되었을 때 게임 오버 상태로 전환

===================================================================

- Main Game Scene 오브젝트 분석

※ Fighter(Player)

＊그림 구성

fighters.png 스프라이트 시트 사용, 11개의 이미지 프레임(IMAGE_RECTS)으로 회전 애니메이션 구현, 레이저 발사 시 spark 효과 이미지 사용

＊동작 구성

위치(x,y), 생명력(life = 3), 이동속도(speed = 320 pixels/sec), 사망상태, 부활 대기시간

＊상호작용 정보

좌우 키 입력으로 이동, roll_time을 통한 부드러운 회전 애니메이션, 화면 경계 충돌 처리

＊핵심 코드 설명

플레이어 입력 처리, 레이저 발사, 생명력 관리 및 부활 시스템, 충돌 감지 영역 제공

※ Enemy

＊그림 구성

레벨별 다른 이미지 사용(enemy_XX.png), 생명력 게이지 표시 시스템

＊동작 구성

위치(x,y), 레벨 시스템(1-3), 생명력(level * 100), 이동속도(-100 pixels/sec)

＊상호작용 정보

기본적으로 아래로 이동, 주기적인 좌우 진동 패턴, 화면 경계 충돌 처리

＊핵심 코드 설명

자동 이동 패턴 실행, 적 탄환 밠(shoot_interval = 1.0sec), 생명력 관리, 충돌 감지 영역 제고

※ Bullet System

▶ Bullet (Player's Bullet)

laser_1.png 이미지 사용, 속도(400 pixels/sec), 공격력(40)

가장 가까운 적을 자동 추적, 화면 밖으로 나가면 자동 제

▶ EnemyBullet

enemy_bullet.png 이미지 사용, 속도(200 pixels/sec), 공격력(적 레벨 비례)

※ Scene Management

▶ MainScene

게임 월드 초기화, 배경 레이어 관리, 게임 오브젝트 생성 및 관리, 충돌 체크 시스템 관리

▶ GameOverScene

게임 오버 화면 표시

※ 상호작용 시스템

▶ 충돌 처리

충돌 체크 -> 탄환 위치 확인

화면 밖 -> 탄환 제거

화면 안 -> 적과 충돌? -> YES -> 적 생명력 감소 -> 적 사망?

-> YES -> 적 제거

-> No -> 플레이어와 충돌? -> YES -> 생명력 감소 -> 게임오버? -> YES -> 게임 오버 씬

▶ 레이어 시스템

배경, 전투기, 탄환, 적, UI, 컨트롤러

▶ 생명력 시스템

LiveSprite로 남은 생명 표시, 생명력 0시 게임 오버

▶ 적 생성 시스템(EnemyGen)

일정 간격으로 적 생성(5.0초)

레벨에 따른 적 능력치 조정

랜덤한 위치에 생성

===================================================================
 
- 게임 프레임워크

객체 관리: world 클래스를 사용하여 게임 객체들을 레이어별로 관리, 업데이트/렌더링

이미지 및 애니메이션: Sprite와 AnimSprite 클래스를 시용하여 게임 캐릭터와 적들의 이미지를 처리하고 애니메이션 구현

충돌처리: collides_box 함수를 사용하여 게임 객체 간 충돌을 감지하고 처리

게임 상태 관리: 씬 전환 및 상태 관리 함수들을 사용하여 씬 관리

-------------------------------------------------------------------------------------

10/28 이전

개발 계획 수립 및 게임 컨셉 확립

피요한기능 구현 방법 조사 및 강의 내용 참고

개발에 필요한 리소스 고안 및 조사

===================================================================

각 주차별 계획

1주차 - 계획 적용 및 건의 사항을 바탕으로 내용 보완 (100%)

2주차 - 추가 내용 보완 및 게임 프레임워크, 게임 루프 수립, 추적 탄 구현 개발 진행, 피드백 반영 (100%)

3주차 - 플레이어 이동 및 공격 구현 및 추적 탄 구현 개발 진행 (진행중 / 70%)

4주차 - 적의 공격 및 이동 (20%)

5주차 - 충돌 판정으로 플레이어 피격 시 목숨 감소 적용, 씬 전환 (5%)

6주차 - 배경 화면 이동 구현, 기능 테스트 및 최종 유지보수 (10%)

-------------------------------------------------------------------------------------
출처

https://www.taptap.io/kr/app/33601228 - TapTap, 1942 Air Force Classic Fighter Game Play ScreenShot
